fun withSubmit(f) {
  formlet
    <#>{f -> v}{submit("Submit")}</#>
  yields
    v
}

fun enterNumbers(n) {
  page
   <html>
     <h1>Enter {intToXml(n)} numbers:</h1>
     {withSubmit(formlets(replicate(n, inputInt))) =>
        fun (xs) {page <html><body>{intToXml(sum(xs))}</body></html>}}
   </html>
}

page
 <html>
    <h1>Multiple</h1>
    Enter numbers: {withSubmit(inputInt) => enterNumbers}
 </html>
