var db = database "links";
var factorials = table "factorials" with (i : Int, f : Int) from db;
query {
    for (x <- asList(factorials)) 
    for (z <- dedup(for (y <- distinct(factorials)) 
                where (x.i == y.f) 
                [(f = x.f)]))
    [(f = z.f)]
}